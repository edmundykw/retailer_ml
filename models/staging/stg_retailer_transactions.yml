version: 2

models:
  - name: stg_retailer_transactions
    description: "Staging model that canonicalizes and parses fields from the base retailer transactions."
    columns:
      - name: InvoiceDate
        description: "Canonical invoice date (parsed substring)"
        tests:
          - not_null
      - name: InvoiceMonth
        description: "Derived invoice month"
      - name: InvoiceYear
        description: "Derived invoice year"
      - name: RawInvoiceDate
        description: "Raw invoice date as present in base table"
      - name: InvoiceNo
        description: "Invoice number"
        tests:
          - not_null
      - name: StockCode
        description: "Product stock code"
        tests:
          - not_null
      - name: Description
        description: "Product description"
      - name: Quantity
        description: "Quantity of the item"
        tests:
          - not_null
      - name: UnitPrice
        description: "Unit price of the item"
      - name: CustomerID
        description: "Customer identifier (COALESCE applied in model)"
      - name: Country
        description: "Customer country"
